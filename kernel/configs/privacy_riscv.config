# ShadowOS RISC-V Kernel Configuration
# kernel/configs/privacy_riscv.config
#
# Privacy-hardened kernel config for RISC-V 64-bit
#

# =============================================================================
# RISC-V SPECIFIC
# =============================================================================

CONFIG_RISCV=y
CONFIG_64BIT=y
CONFIG_ARCH_RV64I=y
CONFIG_RISCV_ISA_C=y

# SBI (Supervisor Binary Interface)
CONFIG_RISCV_SBI=y
CONFIG_RISCV_SBI_V01=y

# =============================================================================
# SECURITY
# =============================================================================

CONFIG_SECURITY=y
CONFIG_SECURITYFS=y
CONFIG_SECURITY_NETWORK=y
CONFIG_LSM="landlock,lockdown,yama,loadpin,safesetid,integrity"
CONFIG_DEFAULT_SECURITY_DAC=y

# Memory hardening
CONFIG_STACKPROTECTOR=y
CONFIG_STACKPROTECTOR_STRONG=y
CONFIG_INIT_STACK_ALL_ZERO=y
CONFIG_INIT_ON_ALLOC_DEFAULT_ON=y
CONFIG_HARDENED_USERCOPY=y

# =============================================================================
# CRYPTO
# =============================================================================

CONFIG_CRYPTO=y
CONFIG_CRYPTO_AES=y
CONFIG_CRYPTO_XTS=y
CONFIG_CRYPTO_GCM=y
CONFIG_CRYPTO_CHACHA20POLY1305=y
CONFIG_CRYPTO_SHA512=y
CONFIG_CRYPTO_BLAKE2B=y
CONFIG_CRYPTO_USER_API=y
CONFIG_CRYPTO_USER_API_HASH=y
CONFIG_CRYPTO_USER_API_SKCIPHER=y

# =============================================================================
# STORAGE & ENCRYPTION
# =============================================================================

CONFIG_BLK_DEV_DM=y
CONFIG_DM_CRYPT=y
CONFIG_DM_VERITY=y

# =============================================================================
# FILESYSTEMS
# =============================================================================

CONFIG_EXT4_FS=y
CONFIG_SQUASHFS=y
CONFIG_OVERLAY_FS=y
CONFIG_TMPFS=y
CONFIG_FUSE_FS=m

# =============================================================================
# NETWORKING
# =============================================================================

CONFIG_NET=y
CONFIG_INET=y
CONFIG_WIRELESS=y
CONFIG_CFG80211=m
CONFIG_MAC80211=m
CONFIG_NETFILTER=y
CONFIG_WIREGUARD=m
